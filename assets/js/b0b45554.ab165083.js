"use strict";(self.webpackChunkls_fusion_docs=self.webpackChunkls_fusion_docs||[]).push([[83062],{82164:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>c});var o=n(74848),t=n(28453);const s={title:"How-to: Matrix"},i=void 0,a={id:"How-to_Matrix",title:"How-to: Matrix",description:"Example 1",source:"@site/versioned_docs/version-v4/How-to_Matrix.md",sourceDirName:".",slug:"/How-to_Matrix",permalink:"/v4/How-to_Matrix",draft:!1,unlisted:!1,editUrl:"https://github.com/lsfusion/platform/edit/v4/docs/en/How-to_Matrix.md",tags:[],version:"v4",lastUpdatedAt:1620140923,formattedLastUpdatedAt:"May 4, 2021",frontMatter:{title:"How-to: Matrix"},sidebar:"learn",previous:{title:"How-to: Navigator",permalink:"/v4/How-to_Navigator"},next:{title:"How-to: Table status",permalink:"/v4/How-to_Table_status"}},l={},c=[{value:"Example 1",id:"example-1",level:2},{value:"Task",id:"task",level:3},{value:"Solution",id:"solution",level:3},{value:"Example 2",id:"example-2",level:2},{value:"Task",id:"task-1",level:3},{value:"Solution",id:"solution-1",level:3},{value:"Example 3",id:"example-3",level:2},{value:"Task",id:"task-2",level:3},{value:"Solution",id:"solution-2",level:3}];function d(e){const r={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",strong:"strong",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r.h2,{id:"example-1",children:"Example 1"}),"\n",(0,o.jsx)(r.h3,{id:"task",children:"Task"}),"\n",(0,o.jsx)(r.p,{children:"We have the concepts of books and buyers defined. A price is defined for each book and buyer."}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-lsf",children:"CLASS Book 'Book';\r\nname 'Name' = DATA ISTRING[50] (Book) IN id;\r\n\r\nCLASS Customer 'Customer';\r\nname 'Name' = DATA ISTRING[50] (Customer) IN id;\r\n\r\nprice 'Price' = DATA NUMERIC[14,2] (Book, Customer);\n"})}),"\n",(0,o.jsx)(r.p,{children:"We need to create a form with a single table where rows will contain books and columns will contain buyers. Each cell should have a price for its book and buyer."}),"\n",(0,o.jsx)(r.h3,{id:"solution",children:"Solution"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-lsf",children:"FORM prices 'Prices'\r\n    OBJECTS c = Customer\r\n\r\n    OBJECTS b = Book\r\n    PROPERTIES name(b) READONLY, price(b, c) COLUMNS (c) HEADER name(c)\r\n;\n"})}),"\n",(0,o.jsxs)(r.p,{children:["Object ",(0,o.jsx)(r.code,{children:"c"})," will not be displayed on the form, since no properties have been added for it."]}),"\n",(0,o.jsx)(r.p,{children:"The form will look like this:"}),"\n",(0,o.jsx)(r.p,{children:(0,o.jsx)(r.img,{src:n(22889).A+"",width:"372",height:"218"})}),"\n",(0,o.jsx)(r.h2,{id:"example-2",children:"Example 2"}),"\n",(0,o.jsx)(r.h3,{id:"task-1",children:"Task"}),"\n",(0,o.jsxs)(r.p,{children:["Similar to ",(0,o.jsx)(r.a,{href:"#example-1",children:(0,o.jsx)(r.strong,{children:"Example 1"})}),", only there is a deferred payment period for each book and buyer."]}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-lsf",children:"gracePeriod 'Delay, days' = DATA INTEGER (Book, Customer);\n"})}),"\n",(0,o.jsx)(r.p,{children:"We need to create a form with a single table where rows will contain books and columns will contain buyers. For each buyer, there will be two columns next to them: price and deferred payment period. We need to highlight columns with deferred payment information in yellow. It should be possible to choose which buyers to display in the columns."}),"\n",(0,o.jsx)(r.h3,{id:"solution-1",children:"Solution"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-lsf",children:"selected 'Mark' = DATA BOOLEAN (Customer);\r\n\r\nheaderName 'Price header' (Customer c) = name(c) + ': Price';\r\nheaderGrace 'Dealy header' (Customer c) = name(c) + ': Delay, days';\r\n\r\nFORM pricesAndGracePeriods 'Prices and delays'\r\n    OBJECTS s = Customer\r\n    PROPERTIES selected(s), name(s) READONLY\r\n\r\n    OBJECTS c = Customer\r\n    FILTERS selected(c)\r\n\r\n    OBJECTS b = Book\r\n    PROPERTIES name(b) READONLY,\r\n               price(b, c) COLUMNS 'priceAndGrace' (c) HEADER headerName(c),\r\n               gracePeriod(b, c) COLUMNS 'priceAndGrace' (c) HEADER headerGrace(c)\r\n;\r\n\r\nDESIGN pricesAndGracePeriods {\r\n    BOX(b) {\r\n        fill = 3;\r\n        PROPERTY(gracePeriod(b, c)) {\r\n            background = #FFFFAA;\r\n        }\r\n    }\r\n}\n"})}),"\n",(0,o.jsxs)(r.p,{children:["Only objects that meet the filter condition for object ",(0,o.jsx)(r.code,{children:"c"})," will be shown in the columns. Besides, the columns will be shown in the same order as the objects."]}),"\n",(0,o.jsxs)(r.p,{children:["All properties with the same ID after the word ",(0,o.jsx)(r.code,{children:"COLUMNS"})," will go side by side for the same objects. In this case, the price and the deferred payment period for the first buyer, then the price and deferral for the second one, and so forth. If IDs were different or unspecified, prices for all buyers would have been shown first followed by deferred payment values."]}),"\n",(0,o.jsx)(r.p,{children:"The form will look like this:"}),"\n",(0,o.jsx)(r.p,{children:(0,o.jsx)(r.img,{src:n(74706).A+"",width:"578",height:"361"})}),"\n",(0,o.jsx)(r.h2,{id:"example-3",children:"Example 3"}),"\n",(0,o.jsx)(r.h3,{id:"task-2",children:"Task"}),"\n",(0,o.jsx)(r.p,{children:"We need to create a form containing a matrix with a specified number of rows and columns. The user should be able to check each cell."}),"\n",(0,o.jsx)(r.h3,{id:"solution-2",children:"Solution"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-lsf",children:"in 'On' = DATA BOOLEAN (INTEGER, INTEGER);\r\n\r\nrow 'Row header' (INTEGER r) = 'Row ' + (r AS INTEGER);\r\ncolumn 'Column header' (INTEGER c) = 'Column ' + (c AS INTEGER);\r\n\r\nFORM matrix 'Matrix'\r\n    OBJECTS m = (rows = INTEGER, columns = INTEGER) PANEL\r\n    PROPERTIES rs = VALUE(rows), cs = VALUE(columns)\r\n\r\n    OBJECTS c = INTEGER\r\n    FILTERS iterate(c, 1, columns)\r\n\r\n    OBJECTS r = INTEGER\r\n    PROPERTIES(r) row\r\n    PROPERTIES in(r, c) COLUMNS (c) HEADER column(c)\r\n    FILTERS iterate(r, 1, rows)\r\n;\r\n\r\nDESIGN matrix {\r\n    PROPERTY(rs) { caption = 'Number of rows'; }\r\n    PROPERTY(cs) { caption = 'Number of columns'; }\r\n}\n"})}),"\n",(0,o.jsxs)(r.p,{children:["In real projects, we recommend limiting the number of rows and columns during data entry or filtering. Otherwise, if the user enters too many rows or columns, the system will generate a CTE query for the ",(0,o.jsx)(r.code,{children:"iterate"})," property which, in turn, will produce a table containing entered (very big) number of records and that may cause the server database to crash."]}),"\n",(0,o.jsx)(r.p,{children:"Result:"}),"\n",(0,o.jsx)(r.p,{children:(0,o.jsx)(r.img,{src:n(96251).A+"",width:"1182",height:"525"})})]})}function h(e={}){const{wrapper:r}={...(0,t.R)(),...e.components};return r?(0,o.jsx)(r,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},22889:(e,r,n)=>{n.d(r,{A:()=>o});const o=n.p+"assets/images/How-to_Matrix_ex1-20c502c1ad11f02d404b6f5b3e68ea18.png"},74706:(e,r,n)=>{n.d(r,{A:()=>o});const o=n.p+"assets/images/How-to_Matrix_ex2-9c8cdab1b451fede5fa58606076f3f52.png"},96251:(e,r,n)=>{n.d(r,{A:()=>o});const o=n.p+"assets/images/How-to_Matrix_ex3-4911fa19524c50949a0c169601f27c71.png"},28453:(e,r,n)=>{n.d(r,{R:()=>i,x:()=>a});var o=n(96540);const t={},s=o.createContext(t);function i(e){const r=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),o.createElement(s.Provider,{value:r},e.children)}}}]);
"use strict";(self.webpackChunkls_fusion_docs=self.webpackChunkls_fusion_docs||[]).push([["28583"],{38614:function(e,n,t){t.r(n),t.d(n,{default:()=>h,frontMatter:()=>c,metadata:()=>s,assets:()=>o,toc:()=>l,contentTitle:()=>a});var s=JSON.parse('{"id":"=gt_statement","title":"=> statement","description":"The => statement creates a consequence.","source":"@site/docs/=gt_statement.md","sourceDirName":".","slug":"/=gt_statement","permalink":"/=gt_statement","draft":false,"unlisted":false,"editUrl":"https://github.com/lsfusion/platform/edit/master/docs/en/=gt_statement.md","tags":[],"version":"current","lastUpdatedAt":1708525070000,"frontMatter":{"title":"=> statement"},"sidebar":"learn","previous":{"title":"CONSTRAINT statement","permalink":"/CONSTRAINT_statement"},"next":{"title":"CLASS statement","permalink":"/CLASS_statement"}}'),r=t("85893"),i=t("50065");let c={title:"=> statement"},a=void 0,o={},l=[{value:"Syntax",id:"syntax",level:3},{value:"Description",id:"description",level:3},{value:"Parameters",id:"parameters",level:3},{value:"Examples",id:"examples",level:3}];function d(e){let n={a:"a",code:"code",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"=>"})," statement creates a ",(0,r.jsx)(n.a,{href:"/Simple_constraints",children:"consequence"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"syntax",children:"Syntax"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"leftPropertyId(param1, ..., paramN) => eventClause rightExpr [RESOLVE resolveType];\n"})}),"\n",(0,r.jsx)(n.h3,{id:"description",children:"Description"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"=>"})," statement creates a consequence. This operator can declare its own local parameters when specifying the property of the consequence premise. These parameters can then be used in the expression of the consequence."]}),"\n",(0,r.jsxs)(n.p,{children:["When creating a consequence a ",(0,r.jsx)(n.a,{href:"/Constraints",children:"constraint"})," will be created, which is pretty similar to the following statement"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"CONSTRAINT eventClause leftPropertyId(param1, ..., paramN) AND NOT rightExpr MESSAGE 'Consequence violated';\n"})}),"\n",(0,r.jsxs)(n.p,{children:["but it allows you to automatically resolve situations where this constraint is violated. So using type ",(0,r.jsx)(n.code,{children:"RESOLVE LEFT"})," is similar to creating ",(0,r.jsx)(n.a,{href:"/Simple_event",children:"a simple event"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"WHEN eventClause SET(leftPropertyId(param1, ..., paramN)) DO \n    SETACTION(rightExpr);\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"RESOLVE RIGHT"}),", similarly:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"WHEN eventClause DROPPED(leftPropertyId(param1, ..., paramN)) DO\n    DROPACTION(rightExpr);\n"})}),"\n",(0,r.jsx)(n.h3,{id:"parameters",children:"Parameters"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"leftPropertyId"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"/IDs#propertyid",children:"ID of the property"})," specifying the consequence premise."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"param1, ..., paramN"})}),"\n",(0,r.jsxs)(n.p,{children:["List of ",(0,r.jsx)(n.a,{href:"/IDs#paramid",children:"parameters"})," of the property that defines the premise of the consequence. The number of these parameters must be equal to the number of parameters of the property."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"rightExpr"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"/Expression",children:"Expression"})," whose value determines the consequence."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"resolveType"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"/Simple_event",children:"Auto resolution"})," type in case of violation of the consequence. Specified by one of the following options:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"LEFT"}),": if the premise (the left part of the statement) is changed to non-",(0,r.jsx)(n.code,{children:"NULL"}),", then the consequence changes to non ",(0,r.jsx)(n.code,{children:"NULL"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"RIGHT"}),": if the consequence (the right part of the statement) changes to ",(0,r.jsx)(n.code,{children:"NULL"}),", then the premise changes to ",(0,r.jsx)(n.code,{children:"NULL"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"LEFT RIGHT"}),": similar to ",(0,r.jsx)(n.code,{children:"LEFT"})," and ",(0,r.jsx)(n.code,{children:"RIGHT"})," together."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"eventClause"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"/Event_description_block",children:"Event description block"}),". Describes an ",(0,r.jsx)(n.a,{href:"/Events",children:"event"})," upon the occurrence of which the created consequence will be checked and automatic resolution operations will be performed."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"examples",children:"Examples"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lsf",children:"is(Sku s) = s IS Sku;\n// the product must have a barcode and name specified\nis(Sku s) => barcode(s);\nis(Sku s) => name(s);\n\n\nCLASS Invoice;\nCLASS InvoiceLine;\ninvoice = DATA Invoice (InvoiceLine);\nis(InvoiceLine l) = l IS InvoiceLine;\n// for a document line, a document must be specified, and when deleting a document, the lines of this document should be deleted\nis(InvoiceLine l) => invoice(l) RESOLVE RIGHT;\n// is equivalent to declaring document = DATA Invoice (InvoiceLine) NONULL DELETE;\n\n// aggregation for f(a, b) create an object of class x, whose property a(x) equals a, and property b(x) equals b\nCLASS A;\nCLASS B;\nf = DATA BOOLEAN (A, B);\n\nCLASS X;\na = DATA A(X);\nb = DATA B(X);\nis (X x) = x IS X;\n\nf(a,b) => [ GROUP AGGR X x WHERE x IS X BY a(x), b(x)](a,b) RESOLVE LEFT;\nis(X x) => f(a(x), b(x)) RESOLVE RIGHT;\n"})})]})}function h(e={}){let{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},50065:function(e,n,t){t.d(n,{Z:function(){return a},a:function(){return c}});var s=t(67294);let r={},i=s.createContext(r);function c(e){let n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);